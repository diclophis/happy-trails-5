<html>
  <head>
    <style>
      #level {
        border: 1px solid blue;
        width: 306px;
        height: 306px;
      }
      #level div {
        border: 1px solid red;
        width: 100px;
        height: 100px;
        float: left;
        position: relative;
      }
      #level div.left {
        left: -102px;
      }
      #level div.right {
        left: 102px;
      }
      #level div.up {
        top: -102px;
      }
      #level div.down {
        top: 102px;
      }
      #level div.animating {
        transition: all 1s;
        top: 0;
        left: 0;
      }
      #blank {
        background-color: black;
      }
    </style>
    <script>
      var upDownMaker = function(upOrDown, verticalOrHorizontal) {
        return function(id) {
          var div = document.getElementById(id);
          var k = 0;
          var e = div;
          while (e = e.previousSibling) { ++k;}
          var a = verticalOrHorizontal ? 3 : 1;
          var odd = verticalOrHorizontal ? (upOrDown ? div.parentNode.children.item(k - a) : div.parentNode.children.item(k + a)) : (upOrDown ? div.parentNode.children.item(k + a) : div.parentNode.children.item(k - a));
          var insertBeforeNode = verticalOrHorizontal ? (upOrDown ? div.parentNode.children.item(k + 1) : div.parentNode.children.item(k + 1)) : (upOrDown ? div : div.nextSibling);
          if (div && odd && insertBeforeNode) {
            div.className = upOrDown ? (verticalOrHorizontal ? "down" : "left") : (verticalOrHorizontal ? "up" : "right");
            odd.className = upOrDown ? (verticalOrHorizontal ? "up" : "right") : (verticalOrHorizontal ? "down" : "left");
            div.parentNode.replaceChild(div, odd);
            div.parentNode.insertBefore(odd, insertBeforeNode);
            setTimeout(function() {
              div.className = "animating";
              odd.className = "animating";
            }, 0);
            return odd;
          }
        };
      };
      var moveRight = upDownMaker(true, false);
      var moveLeft = upDownMaker(false, false);
      var moveUp = upDownMaker(true, true);
      var moveDown = upDownMaker(false, true);
    </script>
  </head>
  <body>
    <div id="level"><div id="blank"></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    <div id="player">
    </div>
    <div id="enemy">
    </div>
  </body>
</html>
